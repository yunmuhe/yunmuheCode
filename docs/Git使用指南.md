# Git ä½¿ç”¨æŒ‡å—

## é¡¹ç›®Gité…ç½®

æœ¬é¡¹ç›®å·²ç»åˆå§‹åŒ–Gitç‰ˆæœ¬æ§åˆ¶ï¼ŒåŒ…å«ä»¥ä¸‹é…ç½®ï¼š

### é…ç½®æ–‡ä»¶

1. **`.gitignore`** - å¿½ç•¥ä¸éœ€è¦ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶
   - Pythonç¼“å­˜æ–‡ä»¶
   - è™šæ‹Ÿç¯å¢ƒ
   - ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼ˆ.envï¼‰
   - æ—¥å¿—å’Œç¼“å­˜
   - IDEé…ç½®æ–‡ä»¶
   - ä¸´æ—¶æ–‡ä»¶

2. **`.gitattributes`** - æ–‡ä»¶å±æ€§é…ç½®
   - è‡ªåŠ¨å¤„ç†è¡Œå°¾ï¼ˆLF/CRLFï¼‰
   - äºŒè¿›åˆ¶æ–‡ä»¶æ ‡è®°
   - æ–‡æ¡£æ–‡ä»¶æ ‡è®°

### å½“å‰çŠ¶æ€

- **åˆ†æ”¯**: master
- **åˆå§‹æäº¤**: å·²å®Œæˆ
- **æäº¤æ•°**: 1
- **æ–‡ä»¶æ•°**: 97ä¸ªæ–‡ä»¶å·²çº³å…¥ç‰ˆæœ¬æ§åˆ¶

## å¸¸ç”¨Gitå‘½ä»¤

### æŸ¥çœ‹çŠ¶æ€

```bash
# æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# æŸ¥çœ‹ç®€æ´çŠ¶æ€
git status --short

# æŸ¥çœ‹æäº¤å†å²
git log

# æŸ¥çœ‹ç®€æ´æäº¤å†å²
git log --oneline

# æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹
git diff
```

### æ·»åŠ å’Œæäº¤

```bash
# æ·»åŠ å•ä¸ªæ–‡ä»¶
git add <æ–‡ä»¶å>

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶
git add .

# æ·»åŠ ç‰¹å®šç±»å‹çš„æ–‡ä»¶
git add *.py

# æäº¤æ›´æ”¹
git commit -m "æäº¤è¯´æ˜"

# æ·»åŠ å¹¶æäº¤ï¼ˆå·²è·Ÿè¸ªçš„æ–‡ä»¶ï¼‰
git commit -am "æäº¤è¯´æ˜"
```

### åˆ†æ”¯ç®¡ç†

```bash
# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git branch

# åˆ›å»ºæ–°åˆ†æ”¯
git branch <åˆ†æ”¯å>

# åˆ‡æ¢åˆ†æ”¯
git checkout <åˆ†æ”¯å>

# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯
git checkout -b <åˆ†æ”¯å>

# åˆå¹¶åˆ†æ”¯
git merge <åˆ†æ”¯å>

# åˆ é™¤åˆ†æ”¯
git branch -d <åˆ†æ”¯å>
```

### è¿œç¨‹ä»“åº“

```bash
# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin <ä»“åº“URL>

# æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote -v

# æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin master

# é¦–æ¬¡æ¨é€å¹¶è®¾ç½®ä¸Šæ¸¸
git push -u origin master

# æ‹‰å–è¿œç¨‹æ›´æ”¹
git pull origin master

# å…‹éš†è¿œç¨‹ä»“åº“
git clone <ä»“åº“URL>
```

### æ’¤é”€æ“ä½œ

```bash
# æ’¤é”€å·¥ä½œåŒºçš„ä¿®æ”¹
git checkout -- <æ–‡ä»¶å>

# æ’¤é”€æš‚å­˜åŒºçš„æ–‡ä»¶
git reset HEAD <æ–‡ä»¶å>

# ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤
git commit --amend

# å›é€€åˆ°ä¸Šä¸€ä¸ªæäº¤ï¼ˆä¿ç•™ä¿®æ”¹ï¼‰
git reset --soft HEAD^

# å›é€€åˆ°ä¸Šä¸€ä¸ªæäº¤ï¼ˆä¸ä¿ç•™ä¿®æ”¹ï¼‰
git reset --hard HEAD^
```

## æäº¤è§„èŒƒ

### æäº¤ä¿¡æ¯æ ¼å¼

```
<ç±»å‹>: <ç®€çŸ­æè¿°>

<è¯¦ç»†æè¿°>ï¼ˆå¯é€‰ï¼‰

<ç›¸å…³é—®é¢˜>ï¼ˆå¯é€‰ï¼‰
```

### æäº¤ç±»å‹

- **feat**: æ–°åŠŸèƒ½
- **fix**: ä¿®å¤bug
- **docs**: æ–‡æ¡£æ›´æ–°
- **style**: ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- **refactor**: ä»£ç é‡æ„
- **test**: æµ‹è¯•ç›¸å…³
- **chore**: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### ç¤ºä¾‹

```bash
# æ–°åŠŸèƒ½
git commit -m "feat: æ·»åŠ æ—¥æœ¬é£æ ¼å§“åç”ŸæˆåŠŸèƒ½"

# ä¿®å¤bug
git commit -m "fix: ä¿®å¤APIè°ƒç”¨å¤±è´¥æ—¶çš„é”™è¯¯å¤„ç†"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: æ›´æ–°READMEä¸­çš„å®‰è£…è¯´æ˜"

# ä»£ç é‡æ„
git commit -m "refactor: ä¼˜åŒ–APIé€‚é…å™¨çš„é”™è¯¯å¤„ç†é€»è¾‘"
```

## å·¥ä½œæµç¨‹

### æ—¥å¸¸å¼€å‘æµç¨‹

1. **å¼€å§‹å·¥ä½œå‰**
   ```bash
   # ç¡®ä¿åœ¨æ­£ç¡®çš„åˆ†æ”¯
   git branch

   # æ‹‰å–æœ€æ–°ä»£ç ï¼ˆå¦‚æœæœ‰è¿œç¨‹ä»“åº“ï¼‰
   git pull origin master
   ```

2. **å¼€å‘è¿‡ç¨‹ä¸­**
   ```bash
   # æŸ¥çœ‹ä¿®æ”¹çš„æ–‡ä»¶
   git status

   # æŸ¥çœ‹å…·ä½“ä¿®æ”¹å†…å®¹
   git diff

   # æ·»åŠ ä¿®æ”¹çš„æ–‡ä»¶
   git add .

   # æäº¤æ›´æ”¹
   git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
   ```

3. **å®Œæˆå¼€å‘å**
   ```bash
   # æ¨é€åˆ°è¿œç¨‹ä»“åº“
   git push origin master
   ```

### åŠŸèƒ½å¼€å‘æµç¨‹

1. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/æ–°åŠŸèƒ½åç§°
   ```

2. **åœ¨åŠŸèƒ½åˆ†æ”¯ä¸Šå¼€å‘**
   ```bash
   # æ­£å¸¸å¼€å‘å’Œæäº¤
   git add .
   git commit -m "feat: å®ç°æ–°åŠŸèƒ½"
   ```

3. **åˆå¹¶åˆ°ä¸»åˆ†æ”¯**
   ```bash
   # åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯
   git checkout master

   # åˆå¹¶åŠŸèƒ½åˆ†æ”¯
   git merge feature/æ–°åŠŸèƒ½åç§°

   # åˆ é™¤åŠŸèƒ½åˆ†æ”¯
   git branch -d feature/æ–°åŠŸèƒ½åç§°
   ```

## é‡è¦æ³¨æ„äº‹é¡¹

### âš ï¸ æ°¸è¿œä¸è¦æäº¤çš„æ–‡ä»¶

1. **ç¯å¢ƒå˜é‡æ–‡ä»¶**
   - `.env`
   - `.env.local`
   - ä»»ä½•åŒ…å«APIå¯†é’¥çš„æ–‡ä»¶

2. **æ•æ„Ÿä¿¡æ¯**
   - APIå¯†é’¥
   - å¯†ç 
   - æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
   - ä¸ªäººä¿¡æ¯

3. **å¤§å‹æ–‡ä»¶**
   - æ•°æ®åº“æ–‡ä»¶
   - å¤§å‹æ•°æ®é›†ï¼ˆé™¤éå¿…è¦ï¼‰
   - ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶

### âœ… æäº¤å‰æ£€æŸ¥æ¸…å•

- [ ] ä»£ç å·²æµ‹è¯•
- [ ] æ²¡æœ‰åŒ…å«æ•æ„Ÿä¿¡æ¯
- [ ] æäº¤ä¿¡æ¯æ¸…æ™°æ˜ç¡®
- [ ] éµå¾ªé¡¹ç›®ä»£ç è§„èŒƒ
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£

### ğŸ”’ å®‰å…¨å»ºè®®

1. **æ£€æŸ¥.envæ–‡ä»¶**
   ```bash
   # ç¡®ä¿.envåœ¨.gitignoreä¸­
   cat .gitignore | grep .env
   ```

2. **æ£€æŸ¥æš‚å­˜åŒº**
   ```bash
   # æäº¤å‰æŸ¥çœ‹å°†è¦æäº¤çš„å†…å®¹
   git diff --cached
   ```

3. **å¦‚æœä¸å°å¿ƒæäº¤äº†æ•æ„Ÿä¿¡æ¯**
   ```bash
   # ç«‹å³ä»å†å²ä¸­åˆ é™¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
   git filter-branch --force --index-filter \
     "git rm --cached --ignore-unmatch <æ–‡ä»¶è·¯å¾„>" \
     --prune-empty --tag-name-filter cat -- --all

   # å¼ºåˆ¶æ¨é€ï¼ˆå¦‚æœå·²æ¨é€åˆ°è¿œç¨‹ï¼‰
   git push origin --force --all

   # æ›´å¥½çš„åšæ³•ï¼šä½¿ç”¨BFG Repo-Cleaner
   # https://rtyley.github.io/bfg-repo-cleaner/
   ```

## è¿æ¥åˆ°GitHub/GitLab

### åˆ›å»ºè¿œç¨‹ä»“åº“

1. åœ¨GitHub/GitLabä¸Šåˆ›å»ºæ–°ä»“åº“
2. ä¸è¦åˆå§‹åŒ–READMEã€.gitignoreæˆ–LICENSE

### è¿æ¥è¿œç¨‹ä»“åº“

```bash
# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin https://github.com/ç”¨æˆ·å/ä»“åº“å.git

# æˆ–ä½¿ç”¨SSH
git remote add origin git@github.com:ç”¨æˆ·å/ä»“åº“å.git

# æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push -u origin master
```

### SSHå¯†é’¥é…ç½®

```bash
# ç”ŸæˆSSHå¯†é’¥
ssh-keygen -t ed25519 -C "your_email@example.com"

# æŸ¥çœ‹å…¬é’¥
cat ~/.ssh/id_ed25519.pub

# å°†å…¬é’¥æ·»åŠ åˆ°GitHub/GitLabçš„SSHè®¾ç½®ä¸­
```

## å¸¸è§é—®é¢˜

### 1. å¦‚ä½•æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼Ÿ

```bash
# ä¿ç•™ä¿®æ”¹
git reset --soft HEAD^

# ä¸ä¿ç•™ä¿®æ”¹
git reset --hard HEAD^
```

### 2. å¦‚ä½•æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹å†å²ï¼Ÿ

```bash
git log --follow <æ–‡ä»¶å>
```

### 3. å¦‚ä½•æš‚å­˜å½“å‰å·¥ä½œï¼Ÿ

```bash
# æš‚å­˜å½“å‰ä¿®æ”¹
git stash

# æŸ¥çœ‹æš‚å­˜åˆ—è¡¨
git stash list

# æ¢å¤æš‚å­˜
git stash pop
```

### 4. å¦‚ä½•è§£å†³åˆå¹¶å†²çªï¼Ÿ

```bash
# 1. æŸ¥çœ‹å†²çªæ–‡ä»¶
git status

# 2. æ‰‹åŠ¨ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œè§£å†³å†²çªæ ‡è®°
# <<<<<<< HEAD
# å½“å‰åˆ†æ”¯çš„å†…å®¹
# =======
# è¦åˆå¹¶åˆ†æ”¯çš„å†…å®¹
# >>>>>>> branch-name

# 3. æ ‡è®°ä¸ºå·²è§£å†³
git add <å†²çªæ–‡ä»¶>

# 4. å®Œæˆåˆå¹¶
git commit
```

### 5. å¦‚ä½•å¿½ç•¥å·²è·Ÿè¸ªçš„æ–‡ä»¶ï¼Ÿ

```bash
# ä»Gitä¸­åˆ é™¤ä½†ä¿ç•™æœ¬åœ°æ–‡ä»¶
git rm --cached <æ–‡ä»¶å>

# æ·»åŠ åˆ°.gitignore
echo "<æ–‡ä»¶å>" >> .gitignore

# æäº¤æ›´æ”¹
git commit -m "chore: åœæ­¢è·Ÿè¸ª<æ–‡ä»¶å>"
```

## Gité…ç½®

### ç”¨æˆ·ä¿¡æ¯

```bash
# è®¾ç½®ç”¨æˆ·å
git config --global user.name "ä½ çš„åå­—"

# è®¾ç½®é‚®ç®±
git config --global user.email "your_email@example.com"

# æŸ¥çœ‹é…ç½®
git config --list
```

### å¸¸ç”¨é…ç½®

```bash
# è®¾ç½®é»˜è®¤ç¼–è¾‘å™¨
git config --global core.editor "code --wait"

# è®¾ç½®é»˜è®¤åˆ†æ”¯å
git config --global init.defaultBranch main

# å¯ç”¨é¢œè‰²è¾“å‡º
git config --global color.ui auto

# è®¾ç½®åˆ«å
git config --global alias.st status
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
```

## å­¦ä¹ èµ„æº

- [Gitå®˜æ–¹æ–‡æ¡£](https://git-scm.com/doc)
- [Pro Gitä¹¦ç±](https://git-scm.com/book/zh/v2)
- [GitHubå­¦ä¹ å®éªŒå®¤](https://lab.github.com/)
- [Gitå¯è§†åŒ–å­¦ä¹ ](https://learngitbranching.js.org/?locale=zh_CN)

## æ€»ç»“

Gitæ˜¯å¼ºå¤§çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼ŒæŒæ¡åŸºæœ¬å‘½ä»¤å³å¯åº”å¯¹æ—¥å¸¸å¼€å‘ã€‚è®°ä½ï¼š

1. âœ… ç»å¸¸æäº¤ï¼Œä¿æŒæäº¤ç²’åº¦é€‚ä¸­
2. âœ… å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
3. âœ… æäº¤å‰æ£€æŸ¥ä¿®æ”¹å†…å®¹
4. âœ… æ°¸è¿œä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯
5. âœ… å®šæœŸæ¨é€åˆ°è¿œç¨‹ä»“åº“å¤‡ä»½

---

**Happy Coding with Git!** ğŸš€
